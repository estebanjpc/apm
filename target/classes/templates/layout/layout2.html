<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"> 

<head th:fragment="head">
	<meta charset="UTF-8" />
	<title th:text="${titulo}"></title>
	<link rel="icon" type="image/x-icon" href="images/favicon.ico">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" th:href="@{/css/jquery-ui.min.css}" />
	<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
	<!--<link rel="stylesheet" type="text/css" href="https://cds.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">-->
	<link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous" />

	
</head>

<body>
	<header th:fragment="header">
		<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
			<img class="ml-3" th:src="@{/images/logo.png}" style="width: 5%; height: 5%;" alt="Logo" />
			
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
				aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			
			<div class="collapse navbar-collapse" id="navbarNav">
			
				<div class="navbar-nav">
                    <a class="nav-item nav-link" sec:authorize="hasAnyRole('ROLE_USER')" th:href="@{/consulta}">Consulta</a>
                    <a class="nav-item nav-link active" sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_CONTADOR')" th:href="@{/listadoEmpresas}">Empresas</a>
                    <a class="nav-item nav-link active" sec:authorize="hasAnyRole('ROLE_ADMIN')" th:href="@{/listadoContadores}">Contador</a>
                    <a class="nav-item nav-link active" sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_CONTADOR')" th:href="@{/listadoUsuariosEmpresa}">Usuarios</a>
                    <a class="nav-item nav-link active" sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_CONTADOR')" th:href="@{/cargarLiquidaciones}">Cargar Liquidaciones</a>
                    <a class="nav-item nav-link active" sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_CONTADOR')" th:href="@{/usuarioLiquidaciones}">Usuario Liquidaciones</a>
                </div>
                
               <div class="navbar-nav ms-auto">
	                <div class="nav-item dropdown">
	                    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"><span sec:authentication="name"></span></a>
	                    <div class="dropdown-menu dropdown-menu-end">
	                        <!--<a href="#" class="dropdown-item">Perfil</a>-->
	                        <a sec:authorize="hasRole('ROLE_ADMIN')" th:href="@{/listadoUsuarios}" class="dropdown-item">Adm Usuarios</a>
	                        <form id="logoutForm" th:action="@{/logout}" method="POST">
	                        	<button class="dropdown-item" onclick="document.getElementById('logoutForm').submit();" type="submit">Sign Out</button>
	                        </form>
	                    </div>
	                </div>
               </div>
			</div>
		</nav>
		
		<div id="loader" class="spinner" style="display:none"></div>
		
	</header>

	<div class="container"></div>

	<footer th:fragment="footer" class="text-center my-4 container-fluid mt-auto">

		<img th:src="@{/images/logo.png}" style="width: 10%;height: 10%;" alt="Logo" />
		
		<p>
			<small>Desarrollado por <strong>&copy; E3 Soluciones Inform√°ticas</strong></small><br/>
		</p>
		
		

		<script th:src="@{/js/jquery-3.3.1.min.js}"></script>
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js" integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk" crossorigin="anonymous"></script>
		<script th:src="@{/js/jquery-ui.min.js}"></script>
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.8/dist/sweetalert2.all.min.js"></script>
		<script th:src="@{/js/general.js}"></script>
		<script th:src="@{/js/function/sorttable.js}"></script>

		<div th:if="${msjLayout != null}">
			<input type="hidden" id="msjLayout" th:value="${msjLayout}">
			<script type="text/javascript">
			    $(document).ready(function() {
				
				var texto = document.getElementById("msjLayout").value;
				var aux = texto.split(';');
				
			    Swal.fire({title: aux[1], 
			    		   text: aux[2], 
			    		   type: aux[0],
			    		   icon: aux[0],
			    		   confirmButtonColor: '#0d6efd'});
				});
			</script>
		</div>



	</footer>
</body>

</html>